@startuml contrext_diagram
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

SHOW_PERSON_OUTLINE()
AddElementTag("backendContainer", $fontColor=$ELEMENT_FONT_COLOR, $bgColor="#335DA5", $shape=EightSidedShape(), $legendText="backend container\neight sided")
AddRelTag("async", $textColor=$ARROW_COLOR, $lineColor=$ARROW_COLOR, $lineStyle=DashedLine())
AddRelTag("sync/async", $textColor=$ARROW_COLOR, $lineColor=$ARROW_COLOR, $lineStyle=DottedLine())

title Container diagram for Tank Game

Person(player, Player, "One a the player of the game")

System_Boundary(c1, "Internet Banking") {
    Container(game, "Game", "Rust", "Game which runs on a computer (Linux, Mac OS X, Windows)")
    Container(remote, "Remote", "JavaScript", "Web applicaiton access from a smartphone that is the remote for the game")
    Container(backend_api, "API Application", "Rust", "Provides Internet banking functionality via API", $tags="backendContainer")
}

System_Ext(stun, "STUN Server", "The internal Microsoft Exchange system")

Rel(player, game, "Uses", "HTTPS")
Rel(player, remote, "Uses")

Rel_Back(player, stun, "Sends e-mails to")
Rel_Back(stun, backend_api, "Sends e-mails using", "sync, SMTP")
@enduml