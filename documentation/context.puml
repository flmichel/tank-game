@startuml context_diagram
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

SHOW_PERSON_OUTLINE()
AddElementTag("backendContainer", $fontColor=$ELEMENT_FONT_COLOR, $bgColor="#335DA5", $shape=EightSidedShape(), $legendText="backend container\neight sided")

title Container diagram for Tank Game

Person(player, Player, "One a the player of the game")

System_Boundary(c2, "Gaming Platform") {
    Container(game, "Game", "Rust", "Game which runs on a computer (Linux, Mac OS X, Windows)")
    Container(remote, "Remote", "JavaScript", "Web applicaiton access from a smartphone that is the remote for the game")
    Container(server_api, "Server API", "Rust", "Provides Internet banking functionality via API", $tags="backendContainer")
}

System_Ext(stun, "STUN Server", "The STUN server used to establish WebRTC connections")

Rel(player, game, "Watches the game on a screen")
Rel(player, remote, "Uses")
Rel(game, stun, "Request networking info for webRTC connection")
Rel(remote, stun, "Request networking info for webRTC connection")
Rel(game, server_api, "Communicates with", "WebSocket")
Rel(remote, server_api, "Communicates with", "HTTPS")
Rel_R(remote, game, "Send inputs", "WebRTC")
@enduml